"Algorithm2OurproposedKB-Modulationalgorithmforpredictingthe",""
"suffixofσ≤k",""
"1:","functionKB-Modulation(σ≤k,BK,AttentionNN,bSize,max,w)"
"2:","h=0"
"3:","prefixes={(σ≤k,1)}"
"4:","while(h≤max)and(notisEmpty(prefixes))do"
"5:","candidatesnext=predictNextSymbolsScores(AttentionNN,prefixes,"
"","bSize)"
"6:","scorenext=ExtractScores(candidatesnext)"
"7:","compliancenext=Compliance(BK,candidatesnext)"
"8:","totalscorenext=scorenext1−w·compliancenextw"
"9:","topcandidates=topRank(candidatesnext,totalscorenext,bSize)"
"10:","empty(prefixes)"
"11:","rank=0"
"12:","forallcandidateintopcandidatesdo"
"13:","iflastsymbol(candidate)̸=⊥then"
"14:","push(candidate,prefixes)"
"15:","else"
"16:","ifrank==0then"
"17:","returncandidate"
"18:","endif"
"19:","endif"
"20:","rank=rank+1"
"21:","endfor"
"22:","h=h+1"
"23:","endwhile"
"24:endfunction",""
