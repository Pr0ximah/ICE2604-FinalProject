"Algorithm2:MathAgent-HAlgorithm",""
"","Input:Problem(X0,y0)∈D,SimulationFunctionwithLLMfLLM,Prompts"
"","P={preprocess:Ppp,plan:Ppl,summarize:Psm,check:Pck,stopcheck:Psc,infer:"
"","Pinf,calculate:Pcal,disprove:Pdis,classify:Pcls,induce:Pind,associate:"
"","Pass,construct:Pcon,analyze:Palz,rethink:Prtk,integrate:Pint}"
"Output:Proof/Resultr",""
"1SplitProblem:X0,y0=fLLM((X0,y0),Ppp)",""
"InitializeMemory:m0=NULL;",""
"InitializeStopIndex:idx=False;",""
"4Count:n=0;",""
"5whileidx==Falsedo",""
"","SelectAction:an,m=fLLM(Xn,yn,mn,Ppl),"
"","an∈{infer,calculate,disprove,classify,induce,associate,construct,analyze,rethink};"
"","UpdateMemory:mn←m;"
"","ifan==disprovethen"
"","ProvebyContradiction:X′n,y′n,m=fLLM(Xn,yn,mn,Pdis);"
"","UpdateMemory:mn←m;"
"","else"
"","ifan∈{Classify,Induce}then"
"","Classify:{(Xi,k}=fLLM(Xn,yn,mn,PA),A∈{cls,ind};n,yin)|i=1,2,···"
"","UpdateMemory:mn←m;"
"","fori=1tokdo"
"","RecursiveCalculation:(X′in,y′in)=Self(Xin,yin);"
"","end"
"","Integrate:X′,k},yn,mn,Pint);n,m=fLLM({(X′in,y′in)|i=1,2,···n,y′"
"","UpdateMemory:mn←m;"
"","else"
"","ExecuteOtherAction:"
"","X′n,m=Xn∪fLLM(Xn,mn,PA),y′n=yn,A∈{inf,cal,ass,con,alz,rtk};"
"","UpdateMemory:mn←m;"
"","end"
"","end"
"","Check:idxc,m=fLLM(X′n,y′n,Xn,yn,mn,Pck);"
"","ifidxc==Truethen"
"","Xn+1,yn+1=fLLM(X′n,y′n,Psm);"
"","else"
"","Xn+1,yn+1=Xn,yn;"
"","end"
"","UpdateMemory:mn+1←m;"
"","StopCheck:idx=fLLM(Xn+1,yn+1,Psc);"
"","ifidx==Truethen"
"","r=fLLM(Xn+1,yn+1,Psm);"
"","end"
"","Count:n←n+1;"
"end",""
"returnr;",""
